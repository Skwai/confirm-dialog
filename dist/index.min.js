/*!
  * confirm-dialog
  * @version v1.0.0
  * @author Cameron Jensen
  * @license MIT
  */
"use strict";var classCallCheck=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),DEFAULTS={cancelLabel:"Cancel",canCancel:!0,className:"ConfirmDialog",confirmLabel:"Confirm",message:null,onCancel:function(){},onConfirm:function(){},parent:document.body,title:"Please Confirm"},ESCAPE_KEYCODE=27,ConfirmDialog=function(){function e(n){if(classCallCheck(this,e),this.opts=Object.assign({},DEFAULTS,n),!(this.opts.parent instanceof Node))throw Error("`parent` is not a valid `Node`");Object.assign(this,{handleConfirm:this.handleConfirm.bind(this),handleCancel:this.handleCancel.bind(this),handleEscape:this.handleEscape.bind(this)}),this.render()}return createClass(e,[{key:"render",value:function(){if(this.element)throw Error("Cannot render, `element` already exists");this.element=document.createElement("div"),this.element.classList.add(this.opts.className),this.element.innerHTML=this.template(this.opts),document.body.appendChild(this.element),this.bindListeners()}},{key:"destroy",value:function(){this.unbindListeners(),this.element instanceof Node&&(this.element.parentNode.removeChild(this.element),delete this.element)}},{key:"handleEscape",value:function(e){e.keyCode===ESCAPE_KEYCODE&&this.handleCancel(e)}},{key:"bindListeners",value:function(){var e=this,n=this.element;this.opts.canCancel&&(n.addEventListener("click",function(t){t.target.isSameNode(n)&&e.handleCancel()}),window.addEventListener("keyup",this.handleEscape))}},{key:"unbindListeners",value:function(){window.removeEventListener("keyup",this.handleEscape)}},{key:"handleCancel",value:function(e){var n=this;return Promise.resolve().then(function(){return n.onCancel(e)}).then(function(){n.destroy()})}},{key:"handleConfirm",value:function(e){var n=this;return Promise.resolve().then(function(){return n.onConfirm(e)}).then(function(){n.destroy()})}},{key:"template",value:function(e){var n=e.canCancel,t=e.cancelLabel,a=e.className,i=e.confirmLabel,s=e.message;return'\n      <div\n        class="'+a+'__Content"\n        role="alertdialog"\n        aria-hidden="false"\n        aria-labelledby=""\n        aria-describedby=""\n      >\n        <header class="'+a+'__Header">\n          <h4 class="'+a+'__Title">'+e.title+"</h4>\n        </header>\n        "+(s?'<div class="'+a+'__Message">'+s+"</div>":"")+'\n        <footer class="'+a+'__Actions">\n          '+(i?'<button type="button" class="'+a+'__Confirm">'+i+"</button>":"")+"\n          "+(n?'<button type="button" class="'+a+'__Cancel">'+t+"</button>":"")+"\n        </footer>\n      </div>\n    "}}]),e}();module.exports=ConfirmDialog;
//# sourceMappingURL=index.min.js.map
